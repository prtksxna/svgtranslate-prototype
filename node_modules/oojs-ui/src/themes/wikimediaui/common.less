// WikimediaUI theme variables

@ooui-default-image-path: 'themes/wikimediaui/images';
@ooui-font-size-browser: 16; // assumed browser default of `16px`
@ooui-font-size-base: 0.875em; // equals `14px` at browser default of `16px`
@ooui-unit: em;

// Pull in the main set of variables from the shared UI base; reaching into node_modules like this
// to avoid a symlink that Windows users won't like.
@import '../../../node_modules/wikimedia-ui-base/wikimedia-ui-base.less';

// Background & Text Colors
@background-color-base--hover: #eaecf0;
@background-color-base--read-only: #f8f9fa;
@color-base--deemphasized: #54595d;

// Primary 'Progressive' and 'Destructive' Colors
@background-color-progressive: @background-color-primary;
@background-color-progressive--hover: @background-color-primary--hover;
@color-progressive: @color-primary; // equals HSB 220°/75%/80%
@color-progressive--hover: @color-primary--hover; // equals HSB 220°/72%/96%
@color-progressive--active: #2a4b8d; // equals HSB 220°/70%/55%
@color-progressive--active-hover: @color-primary;
@color-progressive--focus: @color-primary--focus;

@color-destructive-non-primary: #d73333; // Exemption for non-primary buttons, foremost used in VE, lightened up R50 to align to AA contrast ratio

// Disabled Widgets
@opacity-filled--disabled: 1;
@opacity-indicator--disabled: 0.15; // equals `#c7c8cc` on background-color `#fff`
@opacity-tool--disabled: 0.34; // equals `#a9a9a9` on background-color `#fff`

// Box Sizes
// `@*size` variables are used for `*width` & `*height` properties
@size-base: 32 / @ooui-font-size-browser / @ooui-font-size-base; // equals `2.5em`≈`32px`

@min-size-icon: 20px; // values used for `min-height` are defined in `px`, see T130691
@min-size-indicator: 12px;
@min-size-toggleswitch-grip: 16px;
@min-size-toolbar-popup-toolgroup-handle: 140px;
@min-size-toolbar-narrow-popup-toolgroup-handle: 100px;
@min-width-button-base: 44 / @ooui-font-size-browser / @ooui-font-size-base; // equals `3.4375em`≈`44px` at base `font-size: 14px`
@min-width-button-combo-widget: 37px;
@min-width-icon-numberinput: 20px;
@min-height-widget-base: @size-base;
@min-height-toggleswitch: 26px; // equals `16px` @size-toggleswitch-grip-min + 4px*2 distance top/bottom + 1px*2 border top/bottom
@max-width-base: 50em;
@max-width-input: @max-width-base;

@size-anchor: 9px;
@size-button-base: @size-base;
@size-button-tagitem-close: 20 / @ooui-font-size-browser / @ooui-font-size-base; // equals `1.5625em`≈`20px`
@size-icon: 20 / @ooui-font-size-browser / @ooui-font-size-base;
@size-icon-checkmark: 14 / @ooui-font-size-browser / @ooui-font-size-base;
@size-indicator: 12 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.9375em`≈`12px`
@size-dialog-bar-top: 44 / @ooui-font-size-browser / @ooui-font-size-base; // equals `3.4375em`≈`44px`
@size-dialog-message-bar: 40 / @ooui-font-size-browser / @ooui-font-size-base; // equals `3.125em`≈`40px`
@size-toggleswitch-grip: 16 / @ooui-font-size-browser / @ooui-font-size-base;
@size-tool: 42 / @ooui-font-size-browser / @ooui-font-size-base;
@size-popuptool: 42 / @ooui-font-size-browser / @ooui-font-size-base;

@size-tag-group-modifier: -( 2 / @ooui-font-size-browser / @ooui-font-size-base );
@size-toolbar-narrow-modifier: 2 / @ooui-font-size-browser / @ooui-font-size-base;
@size-modifier-border: 1 / @ooui-font-size-browser / @ooui-font-size-base; // Use for size calculations with borders aside of `px` based `@border-width-base`

@start-framed-icon-only: 11 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.859375em`≈`11px`; HACK: We have to break with `@padding-start-input-text-icon` to perfectly center in `@min-width-button-base`
@start-framed-icon-only-numberinput: 8 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.546875em`≈`7px`
@start-framed-indicator-only: 15 / @ooui-font-size-browser / @ooui-font-size-base; // equals `1.07142857em`≈`15px`; `@size-indicator + 2 * @border-width-base`
@start-framed-indicator-only-button-combo-widget: 12 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.85714286em`≈`12px`
@start-frameless: -( 6 / @ooui-font-size-browser / @ooui-font-size-base ); // `-( @start-frameless-icon + @border-width-base )`
@start-frameless-icon: 5 / @ooui-font-size-browser / @ooui-font-size-base;
@start-fieldlayout-help-icon: 3 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.234375em`≈`3px`
@start-tagmultiselect-input: 5 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.390625em`≈`5px`; `@padding-horizontal-tagitem` + `@border-width-base`
@start-toggleswitch-grip: 5 / @ooui-font-size-browser / @ooui-font-size-base;
@start-tool-icon: 11 / @ooui-font-size-browser / @ooui-font-size-base;
@start-toolbar-narrow-tool-icon: 4 / @ooui-font-size-browser / @ooui-font-size-base;
@end-tool-indicator: 8 / @ooui-font-size-browser / @ooui-font-size-base;

@width-button-combo-widget: 37 / @ooui-font-size-browser / @ooui-font-size-base; // equals `2.42857143em≈`34px`;

@height-icon-element: 100%;
@height-search: 56 / @ooui-font-size-browser / @ooui-font-size-base; // equals `4.375em`≈`56px`; `height: 32px` + 2 * `margin: 12px`
@height-tagitem: 22 / @ooui-font-size-browser / @ooui-font-size-base; // equals `1.71875em`≈`22px`;

@margin-dialog-bar-button-framed: 6 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-search: 12 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-taboption: @margin-dialog-bar-button-framed;
@margin-tagitem: 4 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-button-close: 4 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-top-form-fieldset: 24 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-top-fieldlayout: 16 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-top-fieldlayout--labelled: 12 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-top-fieldlayout-help: -( 6 / @ooui-font-size-browser / @ooui-font-size-base );
@margin-bottom-fieldset-header: unit( 8 / @ooui-font-size-browser / ( @ooui-font-size-base * @font-size-fieldset-header ), @ooui-unit );
@margin-end-actionlayout-input: 8 / @ooui-font-size-browser / @ooui-font-size-base;
@margin-end-fieldlayout-help: -( 8 / @ooui-font-size-browser / @ooui-font-size-base );

@border-base--disabled: @border-width-base solid @border-color-base--disabled;
@border-filled--disabled: @border-width-base solid @border-color-filled--disabled;
@border-dialog-bar: @border-width-base solid @border-color-dialog-bar;

@border-color-base--focus: @color-progressive--focus;
@border-color-framed-progressive--hover: @color-progressive--hover;
@border-color-framed-destructive--hover: @color-destructive--hover;
@border-color-frameless: transparent;
@border-color-frameless--fallback: @color-base--inverted; // Support IE 6: `transparent` is not rendered correctly

@border-color-focus-inset: @color-base--inverted;
@border-color-erroneous: @color-erroneous;
@border-color-base--disabled: #c8ccd1;
@border-color-input--hover: @border-color-base--active;
@border-color-dialog-bar: #c8ccd1;
@border-toolbar: @border-width-base @border-style-base #c8ccd1;
@border-toolgroup: @border-width-base @border-style-base #eaecf0;

@border-radius-frameless-indicator: 1px; // Together with `@box-shadow-frameless-indicator--focus` it results in well rounded border

@padding-base: @padding-top-base @padding-horizontal-base @padding-bottom-base;
@padding-frameless: @padding-top-base @padding-horizontal-frameless @padding-bottom-base;
@padding-input-text: @padding-top-base @padding-horizontal-input-text @padding-bottom-base;
@padding-menu: @padding-top-menu @padding-horizontal-base @padding-bottom-menu;
@padding-menu-large: @padding-top-tool-label @padding-horizontal-base @padding-bottom-tool-label;
@padding-panel-form: 16 / @ooui-font-size-browser / @ooui-font-size-base; // equals `1.1428571em`≈`16px`
@padding-panel-dialog: 20 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-horizontal-base: 12 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.9375em`≈`12px`
@padding-horizontal-frameless: 2 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.28571429em`≈`4px`
@padding-horizontal-input-text: 8 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-horizontal-taboption: 8 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-horizontal-taboption-label: 5 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-horizontal-tagitem: 6 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-horizontal-toolbar-action-buttons: 16 / @ooui-font-size-browser / @ooui-font-size-base; // aligned relatively to `@padding-horizontal-base` but for toolbar button height
@padding-vertical-label: 4 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-top-base: 8 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.625em`≈`8px`
@padding-top-icon-indicator: 30 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-top-menu: 9 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-top-tool: 42 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-top-tool-label: 14 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-bottom-base: 7 / @ooui-font-size-browser / @ooui-font-size-base; // equals `0.547em`≈`7px`
@padding-bottom-menu: 8 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-bottom-tool-label: 13 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-icon: @size-icon;
@padding-start-icon-only: 30 / @ooui-font-size-browser / @ooui-font-size-base; // equals `2.03125em`≈`26px`; @min-width-button-base - @padding-horizontal-base - 2 * @border-width-base;
@padding-start-fieldset-header-iconized: unit( 26 / @ooui-font-size-browser / ( @ooui-font-size-base * @font-size-fieldset-header ), @ooui-unit );
@padding-start-indicator-only: @padding-start-icon-only;
@padding-start-indicator-plus: 32 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-frameless-icon-only: 30 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-frameless-icon-plus: @padding-start-frameless-icon-only;
@padding-start-fieldlayout-label: 6 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-input-text-icon-label: 37 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-menu-icon-label: 37 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-tool: 37 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-start-tool-icon-only: 42 / @ooui-font-size-browser / @ooui-font-size-base; // Provide slightly more space than `@padding-start-input-text-icon-label` as we want to provide minimal touch action size
@padding-end-tagitem-close: 23 / @ooui-font-size-browser / @ooui-font-size-base; // equals `1.640625em`≈`21px`;
@padding-end-toolgroup-label-indicator: 26 / @ooui-font-size-browser / @ooui-font-size-base;
@padding-end-toolgroup-indicator: 16 / @ooui-font-size-browser / @ooui-font-size-base;

@box-shadow-toolbar-top: 0 1px 1px 0 rgba( 0, 0, 0, 0.1 );
@box-shadow-toolbar-bottom: 0 -1px 1px 0 rgba( 0, 0, 0, 0.1 );
@box-shadow-widget: inset 0 0 0 1px transparent;
@box-shadow-widget--focus: inset 0 0 0 1px @color-progressive;
@box-shadow-progressive--focus: inset 0 0 0 1px @color-progressive, inset 0 0 0 2px @color-base--inverted;
@box-shadow-frameless-indicator--focus: 0 0 0 2px @color-progressive;
@box-shadow-action--focus: @box-shadow-widget--focus, 0 0 0 1px @color-progressive;
@box-shadow-toolbar-action-button--focus: inset 0 0 0 2px @color-progressive, inset 0 0 0 3px @color-base--inverted;
@box-shadow-popuptoolgroup-tool--focus: inset 0 0 0 2px @color-progressive--focus;
@box-shadow-input-binary--active: inset 0 0 0 1px @color-progressive--active;
@box-shadow-erroneous--focus: inset 0 0 0 1px @color-erroneous;

@font-size-small: 13 / @ooui-font-size-browser / @ooui-font-size-base;
@font-size-fieldset-header: 16 / @ooui-font-size-browser / @ooui-font-size-base;

@line-height-reset: 1; // Support: Safari, reset `line-height` in order to normalize it in a follow-up rule across browsers.
@line-height-message: 20 / @ooui-font-size-browser / @ooui-font-size-base; // equals `20px` at base `font-size: 14px`
@line-height-label: 20 / @ooui-font-size-browser / @ooui-font-size-base;
@line-height-widget-multiline: 1.286; // equals `18px` at base `font-size: 14px;
@line-height-widget-singleline: 15 / @ooui-font-size-browser / @ooui-font-size-base; // equals `1.172em`≈`15px`; Firefox needs a value, Chrome the unit;

// Binary Input Widgets (CheckboxInput, RadioInput, ToggleSwitch)
@background-color-input-binary--active: @color-progressive--active;
@background-color-input-binary--checked: @color-progressive;
@size-input-binary: 20 / @ooui-font-size-browser / @ooui-font-size-base;
@border-input-binary: @border-width-base solid @border-color-input-binary;
@border-color-input-binary: @border-color-base--active;
@border-color-input-binary--active: @color-progressive--active;
@border-color-input-binary--checked: @color-progressive;
@padding-start-input-binary-label: 6 / @ooui-font-size-browser / @ooui-font-size-base;
@box-shadow-input-binary: 0 0 0 1px rgba( 0, 0, 0, 0.1 );
@border-width-radio--checked: 6 / @ooui-font-size-browser / @ooui-font-size-base;

// Theme mixins

.mw-frameless-button-colored( @child, @link, @hover, @active, @focus ) { // following CSS Pseudo Classes
	> @{child} {
		color: @link;
	}

	> @{child}:hover {
		color: @hover;
	}

	> @{child}:active,
	> @{child}:active:focus,
	&.oo-ui-buttonElement-pressed > @{child} {
		color: @active;
		box-shadow: none;
	}
}

.mw-framed-button-colored( @child, @link, @hover, @border-color--hover, @active, @focus ) {
	> @{child} {
		color: @link;
	}

	> @{child}:hover {
		background-color: @hover;
		border-color: @border-color--hover;
	}

	> @{child}:active,
	> @{child}:active:focus,
	&.oo-ui-buttonElement-pressed > @{child},
	&.oo-ui-buttonElement-active > @{child},
	&.oo-ui-popupToolGroup-active > @{child} {
		background-color: lighten( @active, 60% );
		color: @active;
		border-color: @active;
		box-shadow: none;
	}

	> @{child}:focus {
		border-color: @focus;
		box-shadow: inset 0 0 0 1px @focus;
	}
}

.mw-framed-primary-button-colored( @child, @link, @hover, @active, @focus ) {
	> @{child} {
		color: @color-base--inverted;
		background-color: @link;
		border-color: @link;
	}

	> @{child}:hover {
		background-color: @hover;
		border-color: @hover;
	}

	> @{child}:active,
	> @{child}:active:focus,
	&.oo-ui-buttonElement-pressed > @{child},
	&.oo-ui-buttonElement-active > @{child},
	&.oo-ui-popupToolGroup-active > @{child} {
		color: @color-base--inverted;
		background-color: @active;
		border-color: @active;
		box-shadow: none;
	}

	> @{child}:focus {
		border-color: @focus;
		box-shadow: inset 0 0 0 1px @focus, inset 0 0 0 2px @color-base--inverted;
	}
}
